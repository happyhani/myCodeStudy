<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
	</head>
	<body>

	  <section>
	    <code>var arr = ['a',['b','c',['c1','c2']],'d','e','f',[1,2,3],'g','h'];flat(arr)//a,b,c,c1,c2,d,e,f,1,2,3,g,h</code>
	    <script type="text/ecmascript">
	      /*
	       * es6的遍历器的背景： 数组 常用obj对象等都可以用 for或 for of 数组的forEach来遍历。这是常规的数据结构。这里我想对自己特殊的新型的数据结构进行遍历，就可以得到任意想要的输出。所以es6的iterator应运而生
	       * 遍历器的作用：给一个数据结构增加一个遍历器
	       * 1、给对象增加Symbol.iterator作为key值
	       * 2、function（）{}作为value值：遍历的具体过程
	       * 3、这个function中必须返回一个对象，对象中有一个next方法
	       * 4、next方法中return对象中：value返回当前要返回的值，done表示是不是遍历结束（false不结束，还会执行下一次next。true表示当前返回结束）
	       * */
        // Iterator 遍历器  
//      Array.prototype[Symbol.iterator] = function () {
//        let arr = [].concat(this);
//        //  arr = ['a',['b','c',['c1','c2']],'d','e','f',[1,2,3],'g','h'];
//        let getFirst = function (array) {
//        	let first = array.shift();
//        	return first;
//        };
//        return { 
//          // next时是一次抛出一个值，去遍历
//          next: function () {
//            let item = getFirst(arr);
//            if (item) {
//              return {
//                value: item, // 遍历到['b','c']的时候，有个隐式转换，toString方法 'b,c'
//                done: false 
//              };
//            }else {
//              return {
//                done: true
//              };
//            }
//          }
//        };
//      }
        
        var arr = ['a',['b','c',['c1','c2']],'d','e','f',[1,2,3],'g','h'];
        function flat (arr) {
          let r = [];
          for (let i of arr) {
          	r.push(i);
          }
          return r.join(',');
        }
      console.log(flat (arr))  ;
      </script>
	  </section>
	</body>
</html>
