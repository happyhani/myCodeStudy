<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>页面性能</title>
		<link rel="dns-prefetch" href="//host_name_to_prefetch.com" />
		<meta http-equiv="x-dns-prefetch-control" content="on"/>
	</head>
	<body>
	     问：提升页面性能的方法有哪些？
	    <!--雅虎军规-->
	  1、资源压缩合并、减少HTTP请求
	  2、非核心代码异步加载 -> 异步加载的方式 -> 异步加载的区别
	  3、利用浏览器缓存 -> 缓存的分类 -> 缓存的原理
	  4、使用CDN
	  5、预解析DNS a标签在高级浏览器里是默认打开DNS预解析的，但是协议是https的，浏览器是默认关闭DNS的。meta的那句是强制打开DNS预解析的。
	 
	扩展：当页面输入url到页面打开发生了哪些事？
	  1、DNS预解析
	  
	  JS延迟加载的方式？JS延迟加载，也就是等页面加载完成之后再加载 JavaScript 文件。 JS延迟加载有助于提高页面加载速度。
	  defer 属性
    async 属性
          动态创建DOM方式
          使用jQuery的getScript方法
          使用setTimeout延迟方法
          让JS最后加载 ，把js外部引入的文件放到页面底部
	  
	异步加载的方式？
	  1、动态脚本加载  2、defer 3、async
	异步加载的区别？
	  1、defer是在HTML解析完之后才会执行，如果是多个，按照加载的顺序依次执行
	  2、async是在加载完之后立即执行，如果是多个，执行顺序和加载顺序无关
	  
	  
	  
	浏览器缓存：
	缓存:资源文件在浏览器中存在的副本或备份，存到本地磁盘，下一次浏览器再请求的时候，从磁盘直接读。
	  1、缓存分类
	   1)强缓存 ：在这个时间前，不会再和服务器通信了，直接拿浏览器缓存给页面用。如果2个字段都有，以Cache-Control为准。
	   Expires:Mon, 20 Nov 2017 07:00:01 GMT // 服务器下发的服务器的绝对时间，有可能和客户端时间不一致，后来增加了Cache-Control
	   Cache-Control:max-age=604800 // 客户端的相对时间，604800s内不会再请求
	   
	   2)协商缓存：浏览器发现本地有缓存，但不确定用不用他。向服务器询问是否过期，是否可以用。
	   Last-Modified:Sun, 12 Nov 2017 23:01:48 GMT // 上次修改的时间，拿到这个文件的时候，浏览器会给这个资源文件的http响应头中加这个时间。
	   If-Modified-Since: // 请求头中加这个配置，他的时间和 Last-Modified的时间一致。请求的时候带这个，服务器要对比
	   
	   ETag:"16e36-540b1498e39c0" // 可以理解是hash值，因为时间变了，但是内容可能没有变。这是Last-Modified一个缺点。服务器下发时带这个参数，当过了强缓存时间，浏览器再向服务器请求，带参数 If-None-Match，这个值就是ETag的值。
	   If-None-Match:
	   
	  问：跟浏览器缓存相关的HTTP头有哪些？
	  Expires、Cache-Control、Last-Modified、If-Modified-Since、ETag、If-None-Match
	</body>
	<script>
	  var a=6;
//  setTimeout(function(){
//    alert(a);
//    var a=666;
//  },0);
~function  () {
	alert(a)
    	
}()
    a=66;
	</script>
	<script>
	  var obj1 = {prop:{name:'one'}};
    obj2 = Object.create(obj1);
    obj2.prop.name = 'two';
    console.log(obj1.prop.name);
	</script>
</html>
