<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
		*{margin: 0;padding: 0;}
			#div1{
				width: 200px;
				height: 200px;
				background: red;
				position: absolute;
				/*cursor: move;*/
			}
			
		</style>
	</head>
	<body>
		<div id="div1"></div>
		<script>
			var oDiv = document.getElementById("div1");
			oDiv.onmousedown  = function(ev){
				var ev = ev || window.event,
					disX = ev.clientX - oDiv.offsetLeft, //div边缘距离鼠标点击
					disY = ev.clientY - oDiv.offsetTop;
					
					oDiv.style.cursor = 'move';
			 
					oDiv.style.left = ev.clientX -disX+ 'px';
					oDiv.style.top = ev.clientY - disY+ 'px';
				
				document.onmousemove  =function(ev){
					var ev = ev || window.event;
					 fnMove(ev,disX,disY);
				}
				// 释放鼠标
			  	document.onmouseup=function(){
			  		document.onmousemove=null;
			  		document.onmouseup=null;
			  		oDiv.style.cursor = 'default';
			  	} 
			}
			function fnMove (ev,disX,disY){
					
				var winW=document.documentElement.clientWidth || document.body.clientWidth,
			      	winH=document.documentElement.clientHeight || document.body.clientHeight,
			      	maxW=winW-oDiv.offsetWidth,
			     	maxH=winH-oDiv.offsetHeight,
					l = ev.clientX-disX,
					t = ev.clientY-disY;
//				if ( l > maxW ) {
//					l=maxW;
//				}else if(l<0){
//					l=0;
//				}
//				 if(t<0){
//				    t=0;
//				}else if(t>maxH){
//				    t=maxH-1;
//				}
				
				oDiv.style.left = l+ 'px';
				oDiv.style.top = t+ 'px'; 
			}
				
		</script>
	</body>
</html>
ev.clientX 
oDiv.offsetLeft
ev.clientY 
oDiv.offsetTop
oDiv.style.left
oDiv.style.top
window.innerWidth||document.documentElement.clientWidth || document.body.clientWidth,
window.innerHeight||document.documentElement.clientHeight || document.body.clientHeight,
onmousemove onmousedown  onmouseup